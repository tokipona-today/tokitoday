<!DOCTYPE html>
<html lang=en>
<head>
    <!-- so meta -->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="HandheldFriendly" content="True">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=5" />
    <meta name="description" content="Chapter 5: Automation with Shell Scripts## The Power of Shell Scripts We’ve explored many commands throughout this course, each powerful in its own right. However, the true magic happens when we combi">
<meta property="og:type" content="article">
<meta property="og:title" content="Shell Course 5">
<meta property="og:url" content="http://tokipona.today/2025/03/04/Shell-101-5/index.html">
<meta property="og:site_name" content="toki pona today!">
<meta property="og:description" content="Chapter 5: Automation with Shell Scripts## The Power of Shell Scripts We’ve explored many commands throughout this course, each powerful in its own right. However, the true magic happens when we combi">
<meta property="og:locale" content="en_US">
<meta property="article:published_time" content="2025-03-04T17:15:42.000Z">
<meta property="article:modified_time" content="2025-03-04T07:07:16.858Z">
<meta property="article:author" content="jan Pitaki">
<meta property="article:tag" content="other">
<meta name="twitter:card" content="summary">
    
    
      
        
          <link rel="shortcut icon" href="/images/favicon.ico">
        
      
      
        
          <link rel="icon" type="image/png" href="/images/favicon-192x192.png" sizes="192x192">
        
      
      
        
          <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png">
        
      
    
    <!-- title -->
    <title>Shell Course 5</title>
    <!-- styles -->
    
<link rel="stylesheet" href="/css/style.css">

    <!-- persian styles -->
    
    <!-- rss -->
    
    
      <link rel="alternate" href="/true" title="toki pona today!" type="application/atom+xml" />
    
	<!-- mathjax -->
	
<style type="text/css">
.spoiler {
  display: inline-flex;
}
p.spoiler {
  display: flex;
}
.spoiler a {
  pointer-events: none;
}
.spoiler-blur, .spoiler-blur > * {
  transition: text-shadow .5s ease;
}
.spoiler .spoiler-blur, .spoiler .spoiler-blur > * {
  color: rgba(0, 0, 0, 0);
  background-color: rgba(0, 0, 0, 0);
  text-shadow: 0 0 10px grey;
  cursor: pointer;
}
.spoiler .spoiler-blur:hover, .spoiler .spoiler-blur:hover > * {
  text-shadow: 0 0 5px grey;
}
.spoiler-box, .spoiler-box > * {
  transition: color .5s ease,
  background-color .5s ease;
}
.spoiler .spoiler-box, .spoiler .spoiler-box > * {
  color: black;
  background-color: black;
  text-shadow: none;
}</style><meta name="generator" content="Hexo 5.4.0"></head>

<body class="max-width mx-auto px3 ltr">
    <div class="content index py4">
        <header id="header">
  <a href="/">
  
    
      <div id="logo" style="background-image: url(/images/logo.png);"></div>
    
  
    <div id="title">
      <h1>toki pona today!</h1>
    </div>
  </a>
  <div id="nav">
    <ul>
      <li class="icon">
        <a href="#" aria-label="Menu"><i class="fas fa-bars fa-2x"></i></a>
      </li>
      
        <li><a href="/">Home</a></li>
      
        <li><a href="/tags/lesson">Lessons</a></li>
      
        <li><a href="/tags/practice">practice</a></li>
      
        <li><a href="/tags/blog">blog</a></li>
      
        <li><a href="/tags/other">other</a></li>
      
        <li><a target="_blank" rel="noopener" href="http://tokipona.org">links</a></li>
      
        <li><a href="/About/">About</a></li>
      
    </ul>
  </div>
</header>

        <article class="post" itemscope itemtype="http://schema.org/BlogPosting">
  <header>
    
    <h1 class="posttitle" itemprop="name headline">
        Shell Course 5
    </h1>


    <div class="meta">
    

      

      
    <div class="article-tag">
        <i class="fas fa-tag"></i>
        <a class="tag-link-link" href="/tags/other/" rel="tag">other</a>
    </div>


    </div>
  </header>
  

  <div class="content" itemprop="articleBody">
    <h1 id="Chapter-5-Automation-with-Shell-Scripts"><a href="#Chapter-5-Automation-with-Shell-Scripts" class="headerlink" title="Chapter 5: Automation with Shell Scripts"></a>Chapter 5: Automation with Shell Scripts</h1><p><blue>## The Power of Shell Scripts</blue></p>
<p>We’ve explored many commands throughout this course, each powerful in its own right. However, the true magic happens when we combine these commands into shell scripts – reusable programs that can automate tasks, simplify complex operations, and save hours of repetitive work.</p>
<p>Shell scripting is the art of creating these miniature programs. It’s like having the ability to craft your own specialized tools, perfectly adapted to your specific needs. Whether you’re managing systems, processing data, or simply trying to make your digital life more efficient, shell scripts are invaluable allies.</p>
<p><orange>Think of shell scripting as a form of digital alchemy – transforming the base elements of individual commands into gold by combining them in clever and powerful ways.</orange></p>
<h3 id="Why-Learn-Shell-Scripting"><a href="#Why-Learn-Shell-Scripting" class="headerlink" title="Why Learn Shell Scripting?"></a>Why Learn Shell Scripting?</h3><p>Before diving into the details, let’s understand why shell scripting is worth your time:</p>
<ol>
<li><strong>Automation:</strong> Perform repetitive tasks without manual intervention</li>
<li><strong>Consistency:</strong> Ensure operations are performed the same way every time</li>
<li><strong>Documentation:</strong> Scripts serve as executable documentation of procedures</li>
<li><strong>Efficiency:</strong> Accomplish complex tasks with minimal effort</li>
<li><strong>Customization:</strong> Create tools tailored to your specific needs</li>
</ol>
<p><red>The ability to script effectively is what separates casual shell users from power users. It’s the difference between knowing how to use tools and being able to create them.</red></p>
<hr>
<p><blue>## Your First Shell Script</blue></p>
<p>Let’s start with a simple script that greets the user and displays some system information.</p>
<h3 id="Creating-a-Script-File"><a href="#Creating-a-Script-File" class="headerlink" title="Creating a Script File"></a>Creating a Script File</h3><p>First, create a file with a <code>.sh</code> extension using your favorite text editor:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ nano hello.sh</span><br></pre></td></tr></table></figure>

<p>Now, add the following content:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># This is a comment - it&#x27;s ignored by the shell</span></span><br><span class="line"><span class="comment"># My first shell script</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;Hello, <span class="subst">$(whoami)</span>!&quot;</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;Today is <span class="subst">$(date)</span>&quot;</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;Your working directory is <span class="subst">$(pwd)</span>&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Display system information</span></span><br><span class="line"><span class="built_in">echo</span> -e <span class="string">&quot;\nSystem Information:&quot;</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;---------------------&quot;</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;Hostname: <span class="subst">$(hostname)</span>&quot;</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;Uptime: <span class="subst">$(uptime)</span>&quot;</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;Kernel: <span class="subst">$(uname -r)</span>&quot;</span></span><br></pre></td></tr></table></figure>

<p>Save the file and exit the editor (in nano: <kbd>Ctrl</kbd>+<kbd>O</kbd>, <kbd>Enter</kbd>, <kbd>Ctrl</kbd>+<kbd>X</kbd>).</p>
<h3 id="The-Shebang-Line"><a href="#The-Shebang-Line" class="headerlink" title="The Shebang Line"></a>The Shebang Line</h3><p>The first line <code>#!/bin/bash</code> is called the “shebang” or “hashbang” line. It tells the system which interpreter should be used to execute the script. In this case, we’re specifying the Bash shell. Other common shebangs include:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/bin/sh        # For the basic Bourne shell</span></span><br><span class="line"><span class="comment">#!/usr/bin/env python  # For Python scripts</span></span><br><span class="line"><span class="comment">#!/usr/bin/perl  # For Perl scripts</span></span><br></pre></td></tr></table></figure>

<p><red>The shebang line is crucial for scripts that will be executed directly (without explicitly calling the interpreter). Without it, the system won’t know how to interpret your script.</red></p>
<h3 id="Making-the-Script-Executable"><a href="#Making-the-Script-Executable" class="headerlink" title="Making the Script Executable"></a>Making the Script Executable</h3><p>Before you can run your script, you need to make it executable:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ chmod +x hello.sh</span><br></pre></td></tr></table></figure>

<h3 id="Running-Your-Script"><a href="#Running-Your-Script" class="headerlink" title="Running Your Script"></a>Running Your Script</h3><p>Now you can run your script in several ways:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ ./hello.sh        <span class="comment"># Execute directly (requires shebang)</span></span><br><span class="line">$ bash hello.sh     <span class="comment"># Explicitly using bash to execute</span></span><br><span class="line">$ <span class="built_in">source</span> hello.sh   <span class="comment"># Run in the current shell context</span></span><br></pre></td></tr></table></figure>

<p><orange>The difference between <code>./ script</code> and <code>source script</code> is subtle but important: the former runs in a new shell process, while the latter executes in your current shell. This means that variables defined in a sourced script remain available after the script completes, while variables in a directly executed script disappear when the script terminates.</orange></p>
<hr>
<p><blue>## Variables and Input</blue></p>
<p>Scripts become truly powerful when they can work with different inputs and store information.</p>
<h3 id="Defining-Variables"><a href="#Defining-Variables" class="headerlink" title="Defining Variables"></a>Defining Variables</h3><p>Variables in shell scripts don’t need to be declared before use – simply assign a value:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">name=<span class="string">&quot;World&quot;</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;Hello, <span class="variable">$name</span>!&quot;</span></span><br></pre></td></tr></table></figure>

<p><red>Important: There must be no spaces around the equals sign when assigning variables.</red></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">name = <span class="string">&quot;World&quot;</span>  <span class="comment"># This is WRONG</span></span><br><span class="line">name=<span class="string">&quot;World&quot;</span>    <span class="comment"># This is correct</span></span><br></pre></td></tr></table></figure>

<h3 id="Using-Variables"><a href="#Using-Variables" class="headerlink" title="Using Variables"></a>Using Variables</h3><p>To use a variable’s value, prefix it with a dollar sign:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">echo</span> <span class="string">&quot;Hello, <span class="variable">$name</span>!&quot;</span></span><br><span class="line"><span class="comment"># or with braces for clarity, especially when next to other text</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;Hello, <span class="variable">$&#123;name&#125;</span>s!&quot;</span>  <span class="comment"># Prints &quot;Hello, Worlds!&quot;</span></span><br></pre></td></tr></table></figure>

<h3 id="Command-Substitution"><a href="#Command-Substitution" class="headerlink" title="Command Substitution"></a>Command Substitution</h3><p>You can capture the output of commands using command substitution:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">current_date=$(date)</span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;The current date is: <span class="variable">$current_date</span>&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Older style (still works but less preferred):</span></span><br><span class="line">uptime=`uptime`</span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;System uptime: <span class="variable">$uptime</span>&quot;</span></span><br></pre></td></tr></table></figure>

<h3 id="Reading-User-Input"><a href="#Reading-User-Input" class="headerlink" title="Reading User Input"></a>Reading User Input</h3><p>The <code>read</code> command allows scripts to accept user input:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">echo</span> <span class="string">&quot;What&#x27;s your name?&quot;</span></span><br><span class="line"><span class="built_in">read</span> username</span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;Hello, <span class="variable">$username</span>!&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Read with a prompt in one line:</span></span><br><span class="line"><span class="built_in">read</span> -p <span class="string">&quot;Enter your age: &quot;</span> user_age</span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;You are <span class="variable">$user_age</span> years old.&quot;</span></span><br></pre></td></tr></table></figure>

<h3 id="Environment-Variables"><a href="#Environment-Variables" class="headerlink" title="Environment Variables"></a>Environment Variables</h3><p>Environment variables store information about your shell session. Common ones include:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">echo</span> <span class="string">&quot;Your home directory is: <span class="variable">$HOME</span>&quot;</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;Your shell is: <span class="variable">$SHELL</span>&quot;</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;Your user name is: <span class="variable">$USER</span>&quot;</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;Your path is: <span class="variable">$PATH</span>&quot;</span></span><br></pre></td></tr></table></figure>

<h3 id="Special-Variables"><a href="#Special-Variables" class="headerlink" title="Special Variables"></a>Special Variables</h3><p>Shell scripts have several special variables:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">echo</span> <span class="string">&quot;Script name: <span class="variable">$0</span>&quot;</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;First argument: <span class="variable">$1</span>&quot;</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;Second argument: <span class="variable">$2</span>&quot;</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;All arguments: <span class="variable">$@</span>&quot;</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;Number of arguments: <span class="variable">$#</span>&quot;</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;Process ID: $$&quot;</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;Exit status of last command: $?&quot;</span></span><br></pre></td></tr></table></figure>

<p><orange>These special variables are particularly useful for making scripts flexible. Instead of hardcoding values, use arguments to pass different inputs each time you run the script.</orange></p>
<hr>
<p><blue>## Script Arguments</blue></p>
<p>Arguments make your scripts flexible and reusable. Let’s create a script that uses arguments:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># A script to show file information</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> [ <span class="variable">$#</span> -eq 0 ]; <span class="keyword">then</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&quot;Usage: <span class="variable">$0</span> filename [filename2] ...&quot;</span></span><br><span class="line">    <span class="built_in">exit</span> 1</span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> file <span class="keyword">in</span> <span class="string">&quot;<span class="variable">$@</span>&quot;</span>; <span class="keyword">do</span></span><br><span class="line">    <span class="keyword">if</span> [ -f <span class="string">&quot;<span class="variable">$file</span>&quot;</span> ]; <span class="keyword">then</span></span><br><span class="line">        <span class="built_in">echo</span> -e <span class="string">&quot;\nFile: <span class="variable">$file</span>&quot;</span></span><br><span class="line">        <span class="built_in">echo</span> <span class="string">&quot;Size: <span class="subst">$(du -h <span class="string">&quot;<span class="variable">$file</span>&quot;</span> | cut -f1)</span>&quot;</span></span><br><span class="line">        <span class="built_in">echo</span> <span class="string">&quot;Type: <span class="subst">$(file -b <span class="string">&quot;<span class="variable">$file</span>&quot;</span>)</span>&quot;</span></span><br><span class="line">        <span class="built_in">echo</span> <span class="string">&quot;Modified: <span class="subst">$(stat -c %y <span class="string">&quot;<span class="variable">$file</span>&quot;</span>)</span>&quot;</span></span><br><span class="line">    <span class="keyword">elif</span> [ -d <span class="string">&quot;<span class="variable">$file</span>&quot;</span> ]; <span class="keyword">then</span></span><br><span class="line">        <span class="built_in">echo</span> -e <span class="string">&quot;\nDirectory: <span class="variable">$file</span>&quot;</span></span><br><span class="line">        <span class="built_in">echo</span> <span class="string">&quot;Contains: <span class="subst">$(ls -1 <span class="string">&quot;<span class="variable">$file</span>&quot;</span> | wc -l)</span> items&quot;</span></span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        <span class="built_in">echo</span> -e <span class="string">&quot;\nError: <span class="variable">$file</span> does not exist&quot;</span></span><br><span class="line">    <span class="keyword">fi</span></span><br><span class="line"><span class="keyword">done</span></span><br></pre></td></tr></table></figure>

<p>Save this as <code>fileinfo.sh</code>, make it executable, and try it:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ ./fileinfo.sh hello.sh /etc /non-existent-file</span><br></pre></td></tr></table></figure>

<p><red>Always check if required arguments are provided, and show usage information when they’re not. The user will thank you later – and that user might be your future self!</red></p>
<hr>
<p><blue>## Control Structures</blue></p>
<p>Control structures allow your scripts to make decisions and repeat operations. Let’s explore the most important ones.</p>
<h3 id="Conditional-Statements-if-else"><a href="#Conditional-Statements-if-else" class="headerlink" title="Conditional Statements (if/else)"></a>Conditional Statements (if/else)</h3><p>The basic syntax for conditional execution:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> [ condition ]; <span class="keyword">then</span></span><br><span class="line">    <span class="comment"># Commands to run if condition is true</span></span><br><span class="line"><span class="keyword">elif</span> [ another_condition ]; <span class="keyword">then</span></span><br><span class="line">    <span class="comment"># Commands to run if another_condition is true</span></span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">    <span class="comment"># Commands to run if all conditions are false</span></span><br><span class="line"><span class="keyword">fi</span></span><br></pre></td></tr></table></figure>

<p>Example:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">read</span> -p <span class="string">&quot;Enter a number: &quot;</span> num</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> [ <span class="variable">$num</span> -lt 0 ]; <span class="keyword">then</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&quot;The number is negative&quot;</span></span><br><span class="line"><span class="keyword">elif</span> [ <span class="variable">$num</span> -eq 0 ]; <span class="keyword">then</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&quot;The number is zero&quot;</span></span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&quot;The number is positive&quot;</span></span><br><span class="line"><span class="keyword">fi</span></span><br></pre></td></tr></table></figure>

<h3 id="Test-Conditions"><a href="#Test-Conditions" class="headerlink" title="Test Conditions"></a>Test Conditions</h3><p>The <code>[</code> in conditionals is actually a command (an alias for <code>test</code>). Common test conditions include:</p>
<p><red>String comparisons:</red></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[ <span class="string">&quot;<span class="variable">$str1</span>&quot;</span> = <span class="string">&quot;<span class="variable">$str2</span>&quot;</span> ]     <span class="comment"># Equal</span></span><br><span class="line">[ <span class="string">&quot;<span class="variable">$str1</span>&quot;</span> != <span class="string">&quot;<span class="variable">$str2</span>&quot;</span> ]    <span class="comment"># Not equal</span></span><br><span class="line">[ -z <span class="string">&quot;<span class="variable">$str</span>&quot;</span> ]             <span class="comment"># Empty string</span></span><br><span class="line">[ -n <span class="string">&quot;<span class="variable">$str</span>&quot;</span> ]             <span class="comment"># Non-empty string</span></span><br></pre></td></tr></table></figure>

<p><red>Numeric comparisons:</red></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[ <span class="variable">$num1</span> -eq <span class="variable">$num2</span> ]       <span class="comment"># Equal</span></span><br><span class="line">[ <span class="variable">$num1</span> -ne <span class="variable">$num2</span> ]       <span class="comment"># Not equal</span></span><br><span class="line">[ <span class="variable">$num1</span> -lt <span class="variable">$num2</span> ]       <span class="comment"># Less than</span></span><br><span class="line">[ <span class="variable">$num1</span> -le <span class="variable">$num2</span> ]       <span class="comment"># Less than or equal</span></span><br><span class="line">[ <span class="variable">$num1</span> -gt <span class="variable">$num2</span> ]       <span class="comment"># Greater than</span></span><br><span class="line">[ <span class="variable">$num1</span> -ge <span class="variable">$num2</span> ]       <span class="comment"># Greater than or equal</span></span><br></pre></td></tr></table></figure>

<p><red>File tests:</red></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">[ -e <span class="string">&quot;<span class="variable">$file</span>&quot;</span> ]            <span class="comment"># File exists</span></span><br><span class="line">[ -f <span class="string">&quot;<span class="variable">$file</span>&quot;</span> ]            <span class="comment"># Regular file exists</span></span><br><span class="line">[ -d <span class="string">&quot;<span class="variable">$file</span>&quot;</span> ]            <span class="comment"># Directory exists</span></span><br><span class="line">[ -r <span class="string">&quot;<span class="variable">$file</span>&quot;</span> ]            <span class="comment"># File is readable</span></span><br><span class="line">[ -w <span class="string">&quot;<span class="variable">$file</span>&quot;</span> ]            <span class="comment"># File is writable</span></span><br><span class="line">[ -x <span class="string">&quot;<span class="variable">$file</span>&quot;</span> ]            <span class="comment"># File is executable</span></span><br><span class="line">[ -s <span class="string">&quot;<span class="variable">$file</span>&quot;</span> ]            <span class="comment"># File is not zero size</span></span><br></pre></td></tr></table></figure>

<p><orange>Always quote your variables in tests to avoid problems with empty values or whitespace.</orange></p>
<h3 id="Modern-Test-Syntax"><a href="#Modern-Test-Syntax" class="headerlink" title="Modern Test Syntax"></a>Modern Test Syntax</h3><p>Modern scripts often use double brackets instead of single brackets for tests:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> [[ <span class="string">&quot;<span class="variable">$str1</span>&quot;</span> == <span class="string">&quot;<span class="variable">$str2</span>&quot;</span> ]]; <span class="keyword">then</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&quot;Strings match&quot;</span></span><br><span class="line"><span class="keyword">fi</span></span><br></pre></td></tr></table></figure>

<p>Double brackets <code>[[ ]]</code> offer advantages like:</p>
<ul>
<li>No need to quote variables (though it’s still a good practice)</li>
<li>Support for pattern matching and additional operators</li>
<li>Logical operators use <code>&amp;&amp;</code> and <code>||</code> instead of <code>-a</code> and <code>-o</code></li>
</ul>
<h3 id="Case-Statements"><a href="#Case-Statements" class="headerlink" title="Case Statements"></a>Case Statements</h3><p>For multiple conditions checking against the same variable, <code>case</code> is often clearer:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">read</span> -p <span class="string">&quot;Enter a fruit name: &quot;</span> fruit</span><br><span class="line"></span><br><span class="line"><span class="keyword">case</span> <span class="string">&quot;<span class="variable">$fruit</span>&quot;</span> <span class="keyword">in</span></span><br><span class="line">    <span class="string">&quot;apple&quot;</span>)</span><br><span class="line">        <span class="built_in">echo</span> <span class="string">&quot;Apples are red or green&quot;</span></span><br><span class="line">        ;;</span><br><span class="line">    <span class="string">&quot;banana&quot;</span>|<span class="string">&quot;lemon&quot;</span>)</span><br><span class="line">        <span class="built_in">echo</span> <span class="string">&quot;That fruit is yellow&quot;</span></span><br><span class="line">        ;;</span><br><span class="line">    <span class="string">&quot;orange&quot;</span>)</span><br><span class="line">        <span class="built_in">echo</span> <span class="string">&quot;Oranges are orange&quot;</span></span><br><span class="line">        ;;</span><br><span class="line">    *)</span><br><span class="line">        <span class="built_in">echo</span> <span class="string">&quot;I don&#x27;t know what color that fruit is&quot;</span></span><br><span class="line">        ;;</span><br><span class="line"><span class="keyword">esac</span></span><br></pre></td></tr></table></figure>

<h3 id="Logical-Operators"><a href="#Logical-Operators" class="headerlink" title="Logical Operators"></a>Logical Operators</h3><p>You can combine conditions with logical operators:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> [ <span class="variable">$num</span> -gt 0 ] &amp;&amp; [ <span class="variable">$num</span> -lt 10 ]; <span class="keyword">then</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&quot;Single digit positive number&quot;</span></span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Or with modern syntax:</span></span><br><span class="line"><span class="keyword">if</span> [[ <span class="variable">$num</span> -gt 0 &amp;&amp; <span class="variable">$num</span> -lt 10 ]]; <span class="keyword">then</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&quot;Single digit positive number&quot;</span></span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># OR example:</span></span><br><span class="line"><span class="keyword">if</span> [ <span class="variable">$num</span> -lt 0 ] || [ <span class="variable">$num</span> -gt 100 ]; <span class="keyword">then</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&quot;Number is out of range&quot;</span></span><br><span class="line"><span class="keyword">fi</span></span><br></pre></td></tr></table></figure>

<hr>
<p><blue>## Loops</blue></p>
<p>Loops allow scripts to perform repetitive tasks efficiently.</p>
<h3 id="For-Loops"><a href="#For-Loops" class="headerlink" title="For Loops"></a>For Loops</h3><p>The basic <code>for</code> loop syntax:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> variable <span class="keyword">in</span> item1 item2 item3; <span class="keyword">do</span></span><br><span class="line">    <span class="comment"># Commands using $variable</span></span><br><span class="line"><span class="keyword">done</span></span><br></pre></td></tr></table></figure>

<p>Examples:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Loop through a list</span></span><br><span class="line"><span class="keyword">for</span> fruit <span class="keyword">in</span> apple banana orange; <span class="keyword">do</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&quot;I like <span class="variable">$fruit</span>&quot;</span></span><br><span class="line"><span class="keyword">done</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Loop through files</span></span><br><span class="line"><span class="keyword">for</span> file <span class="keyword">in</span> *.txt; <span class="keyword">do</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&quot;Processing <span class="variable">$file</span>&quot;</span></span><br><span class="line">    <span class="comment"># Do something with the file</span></span><br><span class="line"><span class="keyword">done</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Loop through numbers</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> &#123;1..5&#125;; <span class="keyword">do</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&quot;Number <span class="variable">$i</span>&quot;</span></span><br><span class="line"><span class="keyword">done</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># C-style loop</span></span><br><span class="line"><span class="keyword">for</span> ((i=1; i&lt;=5; i++)); <span class="keyword">do</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&quot;Count: <span class="variable">$i</span>&quot;</span></span><br><span class="line"><span class="keyword">done</span></span><br></pre></td></tr></table></figure>

<h3 id="While-Loops"><a href="#While-Loops" class="headerlink" title="While Loops"></a>While Loops</h3><p>The <code>while</code> loop continues as long as a condition is true:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">counter=1</span><br><span class="line"><span class="keyword">while</span> [ <span class="variable">$counter</span> -le 5 ]; <span class="keyword">do</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&quot;Counter: <span class="variable">$counter</span>&quot;</span></span><br><span class="line">    counter=$((counter + <span class="number">1</span>))</span><br><span class="line"><span class="keyword">done</span></span><br></pre></td></tr></table></figure>

<p>A useful example is reading file contents line by line:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">while</span> <span class="built_in">read</span> line; <span class="keyword">do</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&quot;Line: <span class="variable">$line</span>&quot;</span></span><br><span class="line"><span class="keyword">done</span> &lt; input.txt</span><br></pre></td></tr></table></figure>

<h3 id="Until-Loops"><a href="#Until-Loops" class="headerlink" title="Until Loops"></a>Until Loops</h3><p>The <code>until</code> loop runs until a condition becomes true:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">counter=1</span><br><span class="line">until [ <span class="variable">$counter</span> -gt 5 ]; <span class="keyword">do</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&quot;Counter: <span class="variable">$counter</span>&quot;</span></span><br><span class="line">    counter=$((counter + <span class="number">1</span>))</span><br><span class="line"><span class="keyword">done</span></span><br></pre></td></tr></table></figure>

<h3 id="Loop-Control"><a href="#Loop-Control" class="headerlink" title="Loop Control"></a>Loop Control</h3><p>Control the flow of loops with <code>break</code> and <code>continue</code>:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> &#123;1..10&#125;; <span class="keyword">do</span></span><br><span class="line">    <span class="keyword">if</span> [ <span class="variable">$i</span> -eq 5 ]; <span class="keyword">then</span></span><br><span class="line">        <span class="built_in">echo</span> <span class="string">&quot;Skipping 5&quot;</span></span><br><span class="line">        <span class="built_in">continue</span>  <span class="comment"># Skip the rest of this iteration</span></span><br><span class="line">    <span class="keyword">fi</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> [ <span class="variable">$i</span> -eq 8 ]; <span class="keyword">then</span></span><br><span class="line">        <span class="built_in">echo</span> <span class="string">&quot;Breaking at 8&quot;</span></span><br><span class="line">        <span class="built_in">break</span>  <span class="comment"># Exit the loop entirely</span></span><br><span class="line">    <span class="keyword">fi</span></span><br><span class="line"></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&quot;Number: <span class="variable">$i</span>&quot;</span></span><br><span class="line"><span class="keyword">done</span></span><br></pre></td></tr></table></figure>

<p><orange>Loops are the workhorses of shell scripts, handling everything from processing multiple files to repeatedly asking for valid user input. Master them, and you’ll dramatically increase your scripting power.</orange></p>
<hr>
<p><blue>## Functions</blue></p>
<p>Functions allow you to organize your code into reusable blocks, making scripts more modular and maintainable.</p>
<h3 id="Defining-Functions"><a href="#Defining-Functions" class="headerlink" title="Defining Functions"></a>Defining Functions</h3><p>The basic syntax for defining a function:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="title">function_name</span></span>() &#123;</span><br><span class="line">    <span class="comment"># Commands</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment"># Alternate syntax</span></span><br><span class="line"><span class="keyword">function</span> function_name &#123;</span><br><span class="line">    <span class="comment"># Commands</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>Example:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Define a greeting function</span></span><br><span class="line"><span class="function"><span class="title">say_hello</span></span>() &#123;</span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&quot;Hello, <span class="variable">$1</span>!&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment"># Define a calculator function</span></span><br><span class="line"><span class="function"><span class="title">calculate</span></span>() &#123;</span><br><span class="line">    <span class="keyword">if</span> [ <span class="variable">$#</span> -ne 3 ]; <span class="keyword">then</span></span><br><span class="line">        <span class="built_in">echo</span> <span class="string">&quot;Usage: calculate number1 operator number2&quot;</span></span><br><span class="line">        <span class="built_in">return</span> 1</span><br><span class="line">    <span class="keyword">fi</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">case</span> <span class="string">&quot;<span class="variable">$2</span>&quot;</span> <span class="keyword">in</span></span><br><span class="line">        <span class="string">&quot;+&quot;</span>) result=$((<span class="variable">$1</span> + <span class="variable">$3</span>)) ;;</span><br><span class="line">        <span class="string">&quot;-&quot;</span>) result=$((<span class="variable">$1</span> - <span class="variable">$3</span>)) ;;</span><br><span class="line">        <span class="string">&quot;*&quot;</span>) result=$((<span class="variable">$1</span> * <span class="variable">$3</span>)) ;;</span><br><span class="line">        <span class="string">&quot;/&quot;</span>) result=$((<span class="variable">$1</span> / <span class="variable">$3</span>)) ;;</span><br><span class="line">        *) <span class="built_in">echo</span> <span class="string">&quot;Invalid operator: <span class="variable">$2</span>&quot;</span>; <span class="built_in">return</span> 1 ;;</span><br><span class="line">    <span class="keyword">esac</span></span><br><span class="line"></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&quot;<span class="variable">$1</span> <span class="variable">$2</span> <span class="variable">$3</span> = <span class="variable">$result</span>&quot;</span></span><br><span class="line">    <span class="built_in">return</span> 0</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment"># Call functions</span></span><br><span class="line">say_hello <span class="string">&quot;World&quot;</span></span><br><span class="line">calculate 10 + 5</span><br><span class="line">calculate 20 <span class="string">&quot;*&quot;</span> 3</span><br></pre></td></tr></table></figure>

<h3 id="Function-Arguments"><a href="#Function-Arguments" class="headerlink" title="Function Arguments"></a>Function Arguments</h3><p>Functions access their arguments using the same positional parameters as scripts:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="title">my_function</span></span>() &#123;</span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&quot;First argument: <span class="variable">$1</span>&quot;</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&quot;Second argument: <span class="variable">$2</span>&quot;</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&quot;All arguments: <span class="variable">$@</span>&quot;</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&quot;Number of arguments: <span class="variable">$#</span>&quot;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="Return-Values"><a href="#Return-Values" class="headerlink" title="Return Values"></a>Return Values</h3><p>Functions can return status codes using the <code>return</code> statement:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="title">is_even</span></span>() &#123;</span><br><span class="line">    <span class="keyword">if</span> [ $((<span class="variable">$1</span> % <span class="number">2</span>)) -eq 0 ]; <span class="keyword">then</span></span><br><span class="line">        <span class="built_in">return</span> 0  <span class="comment"># Success (true)</span></span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        <span class="built_in">return</span> 1  <span class="comment"># Failure (false)</span></span><br><span class="line">    <span class="keyword">fi</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> is_even 42; <span class="keyword">then</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&quot;42 is even&quot;</span></span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&quot;42 is odd&quot;</span></span><br><span class="line"><span class="keyword">fi</span></span><br></pre></td></tr></table></figure>

<p>For returning actual values (not just status codes), use command substitution:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="title">get_square</span></span>() &#123;</span><br><span class="line">    <span class="built_in">echo</span> $((<span class="variable">$1</span> * <span class="variable">$1</span>))</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">result=$(get_square 5)</span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;5 squared is <span class="variable">$result</span>&quot;</span></span><br></pre></td></tr></table></figure>

<p><red>Note: Variables in functions are global by default. Use <code>local</code> to create function-scoped variables:</red></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="title">count_words</span></span>() &#123;</span><br><span class="line">    <span class="built_in">local</span> text=<span class="string">&quot;<span class="variable">$1</span>&quot;</span></span><br><span class="line">    <span class="built_in">local</span> word_count=$(<span class="built_in">echo</span> <span class="string">&quot;<span class="variable">$text</span>&quot;</span> | wc -w)</span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&quot;The text contains <span class="variable">$word_count</span> words&quot;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><orange>Functions are to scripts what commands are to the shell – building blocks that perform specific tasks. Well-written functions are self-contained, properly documented, and handle errors gracefully.</orange></p>
<hr>
<p><blue>## Error Handling</blue></p>
<p>Robust scripts handle errors gracefully, providing useful feedback and recovering when possible.</p>
<h3 id="Exit-Codes"><a href="#Exit-Codes" class="headerlink" title="Exit Codes"></a>Exit Codes</h3><p>Every command returns an exit code:</p>
<ul>
<li>0 indicates success</li>
<li>Any non-zero value indicates an error</li>
</ul>
<p>You can check the exit code of the last command with <code>$?</code>:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">ls /some/directory</span><br><span class="line"><span class="keyword">if</span> [ $? -eq 0 ]; <span class="keyword">then</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&quot;Directory exists&quot;</span></span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&quot;Directory does not exist&quot;</span></span><br><span class="line"><span class="keyword">fi</span></span><br></pre></td></tr></table></figure>

<h3 id="The-set-Command"><a href="#The-set-Command" class="headerlink" title="The set Command"></a>The <code>set</code> Command</h3><p>The <code>set</code> command modifies shell behavior. Two useful options for error handling:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">set</span> -e  <span class="comment"># Exit immediately if a command fails</span></span><br><span class="line"><span class="built_in">set</span> -u  <span class="comment"># Treat unset variables as an error</span></span><br></pre></td></tr></table></figure>

<p>Example usage:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"><span class="built_in">set</span> -e</span><br><span class="line"><span class="built_in">set</span> -u</span><br><span class="line"></span><br><span class="line"><span class="comment"># Script will exit if any of these commands fail</span></span><br><span class="line"><span class="built_in">cd</span> /some/directory</span><br><span class="line">cp important_file backup/</span><br><span class="line">rm important_file</span><br></pre></td></tr></table></figure>

<h3 id="Custom-Error-Handling"><a href="#Custom-Error-Handling" class="headerlink" title="Custom Error Handling"></a>Custom Error Handling</h3><p>Create your own error handling function:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="title">error_exit</span></span>() &#123;</span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&quot;ERROR: <span class="variable">$1</span>&quot;</span> &gt;&amp;2</span><br><span class="line">    <span class="built_in">exit</span> 1</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment"># Use it in your script</span></span><br><span class="line"><span class="keyword">if</span> [ ! -f <span class="string">&quot;<span class="variable">$input_file</span>&quot;</span> ]; <span class="keyword">then</span></span><br><span class="line">    error_exit <span class="string">&quot;Input file <span class="variable">$input_file</span> does not exist&quot;</span></span><br><span class="line"><span class="keyword">fi</span></span><br></pre></td></tr></table></figure>

<h3 id="Trapping-Signals"><a href="#Trapping-Signals" class="headerlink" title="Trapping Signals"></a>Trapping Signals</h3><p>The <code>trap</code> command lets you catch signals and perform actions before exiting:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Cleanup function</span></span><br><span class="line"><span class="function"><span class="title">cleanup</span></span>() &#123;</span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&quot;Cleaning up temporary files...&quot;</span></span><br><span class="line">    rm -f /tmp/temp_file_$$</span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&quot;Done.&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment"># Trap EXIT signal (runs when script exits for any reason)</span></span><br><span class="line"><span class="built_in">trap</span> cleanup EXIT</span><br><span class="line"></span><br><span class="line"><span class="comment"># Create a temporary file</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;Creating temporary file...&quot;</span></span><br><span class="line">touch /tmp/temp_file_$$</span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;Processing...&quot;</span></span><br><span class="line">sleep 5</span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;Script completed.&quot;</span></span><br><span class="line"><span class="comment"># The cleanup function will run automatically here</span></span><br></pre></td></tr></table></figure>

<p><red>Common signals you might want to trap:</red></p>
<ul>
<li><code>EXIT</code>: When the script exits for any reason</li>
<li><code>INT</code>: When the script receives an interrupt signal (Ctrl+C)</li>
<li><code>TERM</code>: When the script receives a termination signal</li>
<li><code>ERR</code>: When a command returns a non-zero exit status</li>
</ul>
<p><orange>Proper error handling is often what distinguishes professional scripts from casual ones. It shows consideration for the user and anticipates real-world scenarios where things might not go according to plan.</orange></p>
<hr>
<p><blue>## Practical Scripting Examples</blue></p>
<p>Let’s put our knowledge to work with some practical examples:</p>
<h3 id="Backup-Script"><a href="#Backup-Script" class="headerlink" title="Backup Script"></a>Backup Script</h3><p>A script to back up important directories:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Configuration</span></span><br><span class="line">backup_dirs=(<span class="string">&quot;<span class="variable">$HOME</span>/Documents&quot;</span> <span class="string">&quot;<span class="variable">$HOME</span>/Pictures&quot;</span>)</span><br><span class="line">backup_destination=<span class="string">&quot;/mnt/backup&quot;</span></span><br><span class="line">date_format=$(date +%Y%m%d_%H%M%S)</span><br><span class="line">archive_name=<span class="string">&quot;backup_<span class="variable">$date_format</span>.tar.gz&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Ensure backup destination exists</span></span><br><span class="line"><span class="keyword">if</span> [ ! -d <span class="string">&quot;<span class="variable">$backup_destination</span>&quot;</span> ]; <span class="keyword">then</span></span><br><span class="line">    mkdir -p <span class="string">&quot;<span class="variable">$backup_destination</span>&quot;</span> || &#123;</span><br><span class="line">        <span class="built_in">echo</span> <span class="string">&quot;ERROR: Could not create backup destination directory&quot;</span> &gt;&amp;2</span><br><span class="line">        <span class="built_in">exit</span> 1</span><br><span class="line">    &#125;</span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Create temporary file list</span></span><br><span class="line">temp_file=$(mktemp)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Add files to backup list</span></span><br><span class="line"><span class="keyword">for</span> dir <span class="keyword">in</span> <span class="string">&quot;<span class="variable">$&#123;backup_dirs[@]&#125;</span>&quot;</span>; <span class="keyword">do</span></span><br><span class="line">    <span class="keyword">if</span> [ -d <span class="string">&quot;<span class="variable">$dir</span>&quot;</span> ]; <span class="keyword">then</span></span><br><span class="line">        find <span class="string">&quot;<span class="variable">$dir</span>&quot;</span> -<span class="built_in">type</span> f -not -path <span class="string">&quot;*/\.*&quot;</span> &gt;&gt; <span class="string">&quot;<span class="variable">$temp_file</span>&quot;</span></span><br><span class="line">        <span class="built_in">echo</span> <span class="string">&quot;Added <span class="variable">$dir</span> to backup list&quot;</span></span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        <span class="built_in">echo</span> <span class="string">&quot;WARNING: <span class="variable">$dir</span> does not exist, skipping&quot;</span> &gt;&amp;2</span><br><span class="line">    <span class="keyword">fi</span></span><br><span class="line"><span class="keyword">done</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Check if we have files to backup</span></span><br><span class="line"><span class="keyword">if</span> [ ! -s <span class="string">&quot;<span class="variable">$temp_file</span>&quot;</span> ]; <span class="keyword">then</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&quot;ERROR: No files to backup&quot;</span> &gt;&amp;2</span><br><span class="line">    rm <span class="string">&quot;<span class="variable">$temp_file</span>&quot;</span></span><br><span class="line">    <span class="built_in">exit</span> 1</span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Count files to back up</span></span><br><span class="line">file_count=$(wc -l &lt; <span class="string">&quot;<span class="variable">$temp_file</span>&quot;</span>)</span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;Backing up <span class="variable">$file_count</span> files to <span class="variable">$backup_destination</span>/<span class="variable">$archive_name</span>&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Create the backup</span></span><br><span class="line">tar -czf <span class="string">&quot;<span class="variable">$backup_destination</span>/<span class="variable">$archive_name</span>&quot;</span> -T <span class="string">&quot;<span class="variable">$temp_file</span>&quot;</span> &amp;&amp; &#123;</span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&quot;Backup completed successfully&quot;</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&quot;Archive: <span class="variable">$backup_destination</span>/<span class="variable">$archive_name</span>&quot;</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&quot;Size: <span class="subst">$(du -h <span class="string">&quot;<span class="variable">$backup_destination</span>/<span class="variable">$archive_name</span>&quot;</span> | cut -f1)</span>&quot;</span></span><br><span class="line">&#125; || &#123;</span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&quot;ERROR: Backup failed&quot;</span> &gt;&amp;2</span><br><span class="line">    rm <span class="string">&quot;<span class="variable">$backup_destination</span>/<span class="variable">$archive_name</span>&quot;</span> 2&gt;/dev/null</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment"># Clean up</span></span><br><span class="line">rm <span class="string">&quot;<span class="variable">$temp_file</span>&quot;</span></span><br></pre></td></tr></table></figure>

<h3 id="Log-File-Analyzer"><a href="#Log-File-Analyzer" class="headerlink" title="Log File Analyzer"></a>Log File Analyzer</h3><p>A script to analyze log files and report errors:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Configuration</span></span><br><span class="line">log_file=<span class="string">&quot;/var/log/syslog&quot;</span></span><br><span class="line">error_keywords=(<span class="string">&quot;error&quot;</span> <span class="string">&quot;fail&quot;</span> <span class="string">&quot;critical&quot;</span>)</span><br><span class="line">output_file=<span class="string">&quot;<span class="variable">$HOME</span>/log_analysis.txt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Check if log file exists</span></span><br><span class="line"><span class="keyword">if</span> [ ! -f <span class="string">&quot;<span class="variable">$log_file</span>&quot;</span> ]; <span class="keyword">then</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&quot;ERROR: Log file <span class="variable">$log_file</span> does not exist&quot;</span> &gt;&amp;2</span><br><span class="line">    <span class="built_in">exit</span> 1</span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Write header to output file</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&quot;Log Analysis Report&quot;</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&quot;===================&quot;</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&quot;Generated: <span class="subst">$(date)</span>&quot;</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&quot;Log file: <span class="variable">$log_file</span>&quot;</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&quot;&quot;</span></span><br><span class="line">&#125; &gt; <span class="string">&quot;<span class="variable">$output_file</span>&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Extract error messages for each keyword</span></span><br><span class="line"><span class="keyword">for</span> keyword <span class="keyword">in</span> <span class="string">&quot;<span class="variable">$&#123;error_keywords[@]&#125;</span>&quot;</span>; <span class="keyword">do</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&quot;Searching for keyword: <span class="variable">$keyword</span>&quot;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># Count occurrences</span></span><br><span class="line">    count=$(grep -i <span class="string">&quot;<span class="variable">$keyword</span>&quot;</span> <span class="string">&quot;<span class="variable">$log_file</span>&quot;</span> | wc -l)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># Write to output file</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">echo</span> <span class="string">&quot;== <span class="variable">$keyword</span> (Found <span class="variable">$count</span> occurrences) ==&quot;</span></span><br><span class="line">        <span class="built_in">echo</span> <span class="string">&quot;&quot;</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> [ <span class="variable">$count</span> -gt 0 ]; <span class="keyword">then</span></span><br><span class="line">            grep -i <span class="string">&quot;<span class="variable">$keyword</span>&quot;</span> <span class="string">&quot;<span class="variable">$log_file</span>&quot;</span> | head -10</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> [ <span class="variable">$count</span> -gt 10 ]; <span class="keyword">then</span></span><br><span class="line">                <span class="built_in">echo</span> <span class="string">&quot;... and <span class="subst">$(($count - 10)</span>) more instances&quot;</span></span><br><span class="line">            <span class="keyword">fi</span></span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">            <span class="built_in">echo</span> <span class="string">&quot;No occurrences found&quot;</span></span><br><span class="line">        <span class="keyword">fi</span></span><br><span class="line"></span><br><span class="line">        <span class="built_in">echo</span> <span class="string">&quot;&quot;</span></span><br><span class="line">    &#125; &gt;&gt; <span class="string">&quot;<span class="variable">$output_file</span>&quot;</span></span><br><span class="line"><span class="keyword">done</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Add summary information</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&quot;Summary&quot;</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&quot;=======&quot;</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&quot;Total lines in log: <span class="subst">$(wc -l &lt; <span class="string">&quot;<span class="variable">$log_file</span>&quot;</span>)</span>&quot;</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&quot;Total errors found: <span class="subst">$(grep -i <span class="string">&quot;<span class="subst">$(IFS=<span class="string">&quot;|&quot;</span>; echo <span class="string">&quot;<span class="variable">$&#123;error_keywords[*]&#125;</span>&quot;</span>)</span>&quot;</span> <span class="string">&quot;<span class="variable">$log_file</span>&quot;</span> | wc -l)</span>&quot;</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&quot;&quot;</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&quot;Report complete&quot;</span></span><br><span class="line">&#125; &gt;&gt; <span class="string">&quot;<span class="variable">$output_file</span>&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;Analysis complete. Results saved to <span class="variable">$output_file</span>&quot;</span></span><br></pre></td></tr></table></figure>

<h3 id="System-Monitoring-Script"><a href="#System-Monitoring-Script" class="headerlink" title="System Monitoring Script"></a>System Monitoring Script</h3><p>A script to monitor system resources:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Configuration</span></span><br><span class="line">check_interval=300  <span class="comment"># 5 minutes</span></span><br><span class="line">log_file=<span class="string">&quot;<span class="variable">$HOME</span>/system_monitor.log&quot;</span></span><br><span class="line">cpu_threshold=80</span><br><span class="line">mem_threshold=80</span><br><span class="line">disk_threshold=90</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="title">log_message</span></span>() &#123;</span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&quot;<span class="subst">$(date &#x27;+%Y-%m-%d %H:%M:%S&#x27;)</span> - <span class="variable">$1</span>&quot;</span> &gt;&gt; <span class="string">&quot;<span class="variable">$log_file</span>&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="title">check_cpu</span></span>() &#123;</span><br><span class="line">    <span class="comment"># Get CPU usage (this method may vary by system)</span></span><br><span class="line">    cpu_usage=$(top -bn1 | grep <span class="string">&quot;Cpu(s)&quot;</span> | sed <span class="string">&quot;s/.*, *\([0-9.]*\)%* id.*/\1/&quot;</span> | awk <span class="string">&#x27;&#123;print 100 - $1&#125;&#x27;</span>)</span><br><span class="line">    cpu_integer=<span class="variable">$&#123;cpu_usage%.*&#125;</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> [ <span class="variable">$cpu_integer</span> -gt <span class="variable">$cpu_threshold</span> ]; <span class="keyword">then</span></span><br><span class="line">        log_message <span class="string">&quot;WARNING: High CPU usage: <span class="variable">$&#123;cpu_usage&#125;</span>%&quot;</span></span><br><span class="line">        <span class="built_in">return</span> 1</span><br><span class="line">    <span class="keyword">fi</span></span><br><span class="line">    <span class="built_in">return</span> 0</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="title">check_memory</span></span>() &#123;</span><br><span class="line">    <span class="comment"># Get memory usage percentage</span></span><br><span class="line">    mem_usage=$(free | grep Mem | awk <span class="string">&#x27;&#123;print $3/$2 * 100.0&#125;&#x27;</span>)</span><br><span class="line">    mem_integer=<span class="variable">$&#123;mem_usage%.*&#125;</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> [ <span class="variable">$mem_integer</span> -gt <span class="variable">$mem_threshold</span> ]; <span class="keyword">then</span></span><br><span class="line">        log_message <span class="string">&quot;WARNING: High memory usage: <span class="variable">$&#123;mem_usage&#125;</span>%&quot;</span></span><br><span class="line">        <span class="built_in">return</span> 1</span><br><span class="line">    <span class="keyword">fi</span></span><br><span class="line">    <span class="built_in">return</span> 0</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="title">check_disk</span></span>() &#123;</span><br><span class="line">    <span class="comment"># Get disk usage percentage for root partition</span></span><br><span class="line">    disk_usage=$(df -h / | awk <span class="string">&#x27;NR==2 &#123;print $5&#125;&#x27;</span> | tr -d <span class="string">&#x27;%&#x27;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> [ <span class="variable">$disk_usage</span> -gt <span class="variable">$disk_threshold</span> ]; <span class="keyword">then</span></span><br><span class="line">        log_message <span class="string">&quot;WARNING: High disk usage: <span class="variable">$&#123;disk_usage&#125;</span>%&quot;</span></span><br><span class="line">        <span class="built_in">return</span> 1</span><br><span class="line">    <span class="keyword">fi</span></span><br><span class="line">    <span class="built_in">return</span> 0</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment"># Main monitoring loop</span></span><br><span class="line">log_message <span class="string">&quot;System monitoring started&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">while</span> <span class="literal">true</span>; <span class="keyword">do</span></span><br><span class="line">    <span class="comment"># Check all resources</span></span><br><span class="line">    check_cpu</span><br><span class="line">    check_memory</span><br><span class="line">    check_disk</span><br><span class="line"></span><br><span class="line">    <span class="comment"># Wait for next check</span></span><br><span class="line">    sleep <span class="variable">$check_interval</span></span><br><span class="line"><span class="keyword">done</span></span><br></pre></td></tr></table></figure>

<p><orange>These practical examples demonstrate how shell scripts can automate real-world tasks. They combine the various concepts we’ve learned: variables, control structures, functions, and error handling, into cohesive, useful tools.</orange></p>
<hr>
<p><blue>## Debugging Shell Scripts</blue></p>
<p>Even the best programmers write code with bugs. Knowing how to debug scripts efficiently is a valuable skill.</p>
<h3 id="Adding-Verbosity"><a href="#Adding-Verbosity" class="headerlink" title="Adding Verbosity"></a>Adding Verbosity</h3><p>The simplest debugging technique is to add more output:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">echo</span> <span class="string">&quot;DEBUG: value of variable is <span class="variable">$variable</span>&quot;</span></span><br></pre></td></tr></table></figure>

<p>For temporary debugging, you can create a debug function:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="title">debug</span></span>() &#123;</span><br><span class="line">    [ <span class="string">&quot;<span class="variable">$DEBUG</span>&quot;</span> = <span class="string">&quot;1&quot;</span> ] &amp;&amp; <span class="built_in">echo</span> <span class="string">&quot;DEBUG: $*&quot;</span> &gt;&amp;2</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment"># Then in your script</span></span><br><span class="line">DEBUG=1</span><br><span class="line">debug <span class="string">&quot;Processing file: <span class="variable">$file</span>&quot;</span></span><br></pre></td></tr></table></figure>

<h3 id="Using-set-x"><a href="#Using-set-x" class="headerlink" title="Using set -x"></a>Using <code>set -x</code></h3><p>The <code>-x</code> option to <code>set</code> enables tracing mode, which prints each command before executing it:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"><span class="built_in">set</span> -x  <span class="comment"># Enable tracing</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;Hello, world!&quot;</span></span><br><span class="line">name=<span class="string">&quot;John&quot;</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;Hello, <span class="variable">$name</span>!&quot;</span></span><br><span class="line"><span class="built_in">set</span> +x  <span class="comment"># Disable tracing</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;This command is not traced&quot;</span></span><br></pre></td></tr></table></figure>

<p>You can also enable tracing for just a section of your script:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">echo</span> <span class="string">&quot;Normal command&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">set</span> -x  <span class="comment"># Enable tracing</span></span><br><span class="line"><span class="comment"># Problematic section</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> &#123;1..3&#125;; <span class="keyword">do</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&quot;Iteration <span class="variable">$i</span>&quot;</span></span><br><span class="line"><span class="keyword">done</span></span><br><span class="line"><span class="built_in">set</span> +x  <span class="comment"># Disable tracing</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;Back to normal&quot;</span></span><br></pre></td></tr></table></figure>

<h3 id="ShellCheck"><a href="#ShellCheck" class="headerlink" title="ShellCheck"></a>ShellCheck</h3><p>ShellCheck is an external tool that performs static analysis of shell scripts and points out common mistakes:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ shellcheck myscript.sh</span><br></pre></td></tr></table></figure>

<p>It’s available in most package managers and also as an online service at <a target="_blank" rel="noopener" href="https://www.shellcheck.net/">shellcheck.net</a>.</p>
<p><red>Common bugs to watch for:</red></p>
<ol>
<li>Forgetting to quote variables</li>
<li>Using <code>[ $foo = bar ]</code> instead of <code>[ &quot;$foo&quot; = &quot;bar&quot; ]</code></li>
<li>Using <code>==</code> in <code>[ ]</code> (use <code>=</code> instead, or use <code>[[</code> instead of <code>[</code>)</li>
<li>Forgetting to check if files exist before using them</li>
<li>Assuming a command succeeded without checking its exit code</li>
</ol>
<p><orange>Debugging shell scripts is partly art, partly science. Practice makes perfect, and even experienced shell scripters regularly use debug techniques to identify and fix problems in their code.</orange></p>
<hr>
<p><blue>## Best Practices for Shell Scripting</blue></p>
<p>Adopt these best practices to write clean, maintainable, and robust shell scripts:</p>
<h3 id="Script-Organization"><a href="#Script-Organization" class="headerlink" title="Script Organization"></a>Script Organization</h3><ol>
<li><strong>Start with a shebang</strong>: Always include <code>#!/bin/bash</code> (or appropriate interpreter)</li>
<li><strong>Add a header comment</strong>: Describe purpose, usage, and author</li>
<li><strong>Define constants at the top</strong>: Put configuration variables at the beginning</li>
<li><strong>Structure logically</strong>: Group related functions together</li>
</ol>
<p>Example header:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># backup.sh - Daily backup script for important files</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># Usage: backup.sh [destination]</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># Author: Your Name &lt;your.email@example.com&gt;</span></span><br><span class="line"><span class="comment"># Created: March 4, 2025</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Configuration</span></span><br><span class="line">BACKUP_DIRS=(<span class="string">&quot;<span class="variable">$HOME</span>/Documents&quot;</span> <span class="string">&quot;<span class="variable">$HOME</span>/Pictures&quot;</span>)</span><br><span class="line">DEFAULT_DESTINATION=<span class="string">&quot;/mnt/backup&quot;</span></span><br><span class="line"><span class="comment"># ...</span></span><br></pre></td></tr></table></figure>

<h3 id="Coding-Style"><a href="#Coding-Style" class="headerlink" title="Coding Style"></a>Coding Style</h3><ol>
<li><strong>Use consistent indentation</strong>: 2 or 4 spaces (no tabs)</li>
<li><strong>Use meaningful variable names</strong>: <code>file_count</code> instead of <code>fc</code></li>
<li><strong>Add comments for complex sections</strong>: Explain why, not just what</li>
<li><strong>Use functions for reusable code</strong>: Break down complex tasks</li>
<li><strong>Keep functions focused</strong>: Each function should do one thing well</li>
</ol>
<h3 id="Robustness"><a href="#Robustness" class="headerlink" title="Robustness"></a>Robustness</h3><ol>
<li><strong>Quote your variables</strong>: Use <code>&quot;$variable&quot;</code> to handle spaces and special characters</li>
<li><strong>Check for required tools</strong>: Verify dependencies before using them</li>
<li><strong>Validate input</strong>: Don’t trust user input or external data</li>
<li><strong>Handle errors gracefully</strong>: Check exit codes and provide useful messages</li>
<li><strong>Use absolute paths</strong>: Avoid assuming current directory</li>
</ol>
<h3 id="Security"><a href="#Security" class="headerlink" title="Security"></a>Security</h3><ol>
<li><strong>Don’t use <code>eval</code> with user input</strong>: It can lead to code injection</li>
<li><strong>Be careful with <code>rm -rf</code></strong>: Always check variables before using them in destructive operations</li>
<li><strong>Set proper file permissions</strong>: Make scripts executable for the intended users only</li>
<li><strong>Don’t embed sensitive information</strong>: Use environment variables or secure storage</li>
<li><strong>Validate file paths</strong>: Prevent directory traversal attacks</li>
</ol>
<h3 id="Portability"><a href="#Portability" class="headerlink" title="Portability"></a>Portability</h3><ol>
<li><strong>Specify the shell explicitly</strong>: Use the shebang line</li>
<li><strong>Avoid bashisms in <code>/bin/sh</code> scripts</strong>: Not all features work in all shells</li>
<li><strong>Use POSIX features when possible</strong>: For maximum compatibility</li>
<li><strong>Test on different platforms</strong>: Ensure your script works as expected everywhere it needs to run</li>
<li><strong>Document dependencies</strong>: List required tools and their minimum versions</li>
</ol>
<p><red>Remember:</red> The goal of scripting is not just to get the job done, but to create tools that are reliable, maintainable, and usable by others (including your future self).</p>
<hr>
<p><blue>## Conclusion</blue></p>
<p>Shell scripting is a powerful skill that enables you to automate tasks, create custom tools, and solve complex problems efficiently. In this chapter, we’ve covered the fundamental concepts of scripting, from basic syntax to best practices.</p>
<p>As you continue your shell scripting journey, remember that practice is essential. Start with small scripts to solve real problems you encounter, and gradually build more complex solutions as your confidence grows.</p>
<p>Don’t be afraid to read other people’s scripts to learn new techniques, and share your own work with the community. The shell scripting ecosystem is rich with examples and shared knowledge.</p>
<p>In the next and final chapter, we’ll explore advanced shell tools and practical tips that will further enhance your command-line productivity.</p>
<p><orange>Shell scripting is both a science and an art. Like a master craftsperson, you’ll develop your own style and approaches over time, but the foundations we’ve covered here will serve you well throughout your journey.</orange></p>

  </div>
</article>



        
          <div id="footer-post-container">
  <div id="footer-post">

    <div id="nav-footer" style="display: none">
      <ul>
        
          <li><a href="/">Home</a></li>
        
          <li><a href="/tags/lesson">Lessons</a></li>
        
          <li><a href="/tags/practice">practice</a></li>
        
          <li><a href="/tags/blog">blog</a></li>
        
          <li><a href="/tags/other">other</a></li>
        
          <li><a target="_blank" rel="noopener" href="http://tokipona.org">links</a></li>
        
          <li><a href="/About/">About</a></li>
        
      </ul>
    </div>

    <div id="toc-footer" style="display: none">
      <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#Chapter-5-Automation-with-Shell-Scripts"><span class="toc-number">1.</span> <span class="toc-text">Chapter 5: Automation with Shell Scripts</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Why-Learn-Shell-Scripting"><span class="toc-number">1.0.1.</span> <span class="toc-text">Why Learn Shell Scripting?</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Creating-a-Script-File"><span class="toc-number">1.0.2.</span> <span class="toc-text">Creating a Script File</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#The-Shebang-Line"><span class="toc-number">1.0.3.</span> <span class="toc-text">The Shebang Line</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Making-the-Script-Executable"><span class="toc-number">1.0.4.</span> <span class="toc-text">Making the Script Executable</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Running-Your-Script"><span class="toc-number">1.0.5.</span> <span class="toc-text">Running Your Script</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Defining-Variables"><span class="toc-number">1.0.6.</span> <span class="toc-text">Defining Variables</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Using-Variables"><span class="toc-number">1.0.7.</span> <span class="toc-text">Using Variables</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Command-Substitution"><span class="toc-number">1.0.8.</span> <span class="toc-text">Command Substitution</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Reading-User-Input"><span class="toc-number">1.0.9.</span> <span class="toc-text">Reading User Input</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Environment-Variables"><span class="toc-number">1.0.10.</span> <span class="toc-text">Environment Variables</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Special-Variables"><span class="toc-number">1.0.11.</span> <span class="toc-text">Special Variables</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Conditional-Statements-if-else"><span class="toc-number">1.0.12.</span> <span class="toc-text">Conditional Statements (if&#x2F;else)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Test-Conditions"><span class="toc-number">1.0.13.</span> <span class="toc-text">Test Conditions</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Modern-Test-Syntax"><span class="toc-number">1.0.14.</span> <span class="toc-text">Modern Test Syntax</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Case-Statements"><span class="toc-number">1.0.15.</span> <span class="toc-text">Case Statements</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Logical-Operators"><span class="toc-number">1.0.16.</span> <span class="toc-text">Logical Operators</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#For-Loops"><span class="toc-number">1.0.17.</span> <span class="toc-text">For Loops</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#While-Loops"><span class="toc-number">1.0.18.</span> <span class="toc-text">While Loops</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Until-Loops"><span class="toc-number">1.0.19.</span> <span class="toc-text">Until Loops</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Loop-Control"><span class="toc-number">1.0.20.</span> <span class="toc-text">Loop Control</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Defining-Functions"><span class="toc-number">1.0.21.</span> <span class="toc-text">Defining Functions</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Function-Arguments"><span class="toc-number">1.0.22.</span> <span class="toc-text">Function Arguments</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Return-Values"><span class="toc-number">1.0.23.</span> <span class="toc-text">Return Values</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Exit-Codes"><span class="toc-number">1.0.24.</span> <span class="toc-text">Exit Codes</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#The-set-Command"><span class="toc-number">1.0.25.</span> <span class="toc-text">The set Command</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Custom-Error-Handling"><span class="toc-number">1.0.26.</span> <span class="toc-text">Custom Error Handling</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Trapping-Signals"><span class="toc-number">1.0.27.</span> <span class="toc-text">Trapping Signals</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Backup-Script"><span class="toc-number">1.0.28.</span> <span class="toc-text">Backup Script</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Log-File-Analyzer"><span class="toc-number">1.0.29.</span> <span class="toc-text">Log File Analyzer</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#System-Monitoring-Script"><span class="toc-number">1.0.30.</span> <span class="toc-text">System Monitoring Script</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Adding-Verbosity"><span class="toc-number">1.0.31.</span> <span class="toc-text">Adding Verbosity</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Using-set-x"><span class="toc-number">1.0.32.</span> <span class="toc-text">Using set -x</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#ShellCheck"><span class="toc-number">1.0.33.</span> <span class="toc-text">ShellCheck</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Script-Organization"><span class="toc-number">1.0.34.</span> <span class="toc-text">Script Organization</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Coding-Style"><span class="toc-number">1.0.35.</span> <span class="toc-text">Coding Style</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Robustness"><span class="toc-number">1.0.36.</span> <span class="toc-text">Robustness</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Security"><span class="toc-number">1.0.37.</span> <span class="toc-text">Security</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Portability"><span class="toc-number">1.0.38.</span> <span class="toc-text">Portability</span></a></li></ol></li></ol></li></ol>
    </div>

    <div id="share-footer" style="display: none">
      <ul>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.facebook.com/sharer.php?u=http://tokipona.today/2025/03/04/Shell-101-5/"><i class="fab fa-facebook fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://twitter.com/share?url=http://tokipona.today/2025/03/04/Shell-101-5/&text=Shell Course 5"><i class="fab fa-twitter fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.linkedin.com/shareArticle?url=http://tokipona.today/2025/03/04/Shell-101-5/&title=Shell Course 5"><i class="fab fa-linkedin fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://pinterest.com/pin/create/bookmarklet/?url=http://tokipona.today/2025/03/04/Shell-101-5/&is_video=false&description=Shell Course 5"><i class="fab fa-pinterest fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="mailto:?subject=Shell Course 5&body=Check out this article: http://tokipona.today/2025/03/04/Shell-101-5/"><i class="fas fa-envelope fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://reddit.com/submit?url=http://tokipona.today/2025/03/04/Shell-101-5/&title=Shell Course 5"><i class="fab fa-reddit fa-lg" aria-hidden="true"></i></a></li>
</ul>

    </div>

    <div id="actions-footer">
        <a id="menu" class="icon" href="#" onclick="$('#nav-footer').toggle();return false;"><i class="fas fa-bars fa-lg" aria-hidden="true"></i> Menu</a>
        <a id="toc" class="icon" href="#" onclick="$('#toc-footer').toggle();return false;"><i class="fas fa-list fa-lg" aria-hidden="true"></i> TOC</a>
        <a id="share" class="icon" href="#" onclick="$('#share-footer').toggle();return false;"><i class="fas fa-share-alt fa-lg" aria-hidden="true"></i> Share</a>
        <a id="top" style="display:none" class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fas fa-chevron-up fa-lg" aria-hidden="true"></i> Top</a>
    </div>

  </div>
</div>

        
        <footer id="footer">
  <div class="footer-left">
    Copyright &copy;
    
    
    2025
    jan Pitaki
  </div>
  <div class="footer-right">
    <nav>
      <ul>
         
          <li><a href="/">Home</a></li>
         
          <li><a href="/tags/lesson">Lessons</a></li>
         
          <li><a href="/tags/practice">practice</a></li>
         
          <li><a href="/tags/blog">blog</a></li>
         
          <li><a href="/tags/other">other</a></li>
         
          <li><a target="_blank" rel="noopener" href="http://tokipona.org">links</a></li>
         
          <li><a href="/About/">About</a></li>
        
      </ul>
    </nav>
  </div>
</footer>

    </div>
    <!-- styles -->



  <link rel="preload" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.2/css/all.min.css" crossorigin="anonymous" onload="this.onload=null;this.rel='stylesheet'"/>


    <!-- jquery -->
 
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js" crossorigin="anonymous"></script> 




<!-- clipboard -->

  
    <script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.7/clipboard.min.js" crossorigin="anonymous"></script> 
  
  <script type="text/javascript">
  $(function() {
    // copy-btn HTML
    var btn = "<span class=\"btn-copy tooltipped tooltipped-sw\" aria-label=\"Copy to clipboard!\">";
    btn += '<i class="far fa-clone"></i>';
    btn += '</span>'; 
    // mount it!
    $(".highlight table").before(btn);
    var clip = new ClipboardJS('.btn-copy', {
      text: function(trigger) {
        return Array.from(trigger.nextElementSibling.querySelectorAll('.code')).reduce((str,it)=>str+it.innerText+'\n','')
      }
    });
    clip.on('success', function(e) {
      e.trigger.setAttribute('aria-label', "Copied!");
      e.clearSelection();
    })
  })
  </script>


<script src="/js/main.js"></script>

<!-- search -->

<!-- Google Analytics -->

<!-- Baidu Analytics -->

<!-- Cloudflare Analytics -->

<!-- Umami Analytics -->

<!-- Disqus Comments -->


</body>
</html>
